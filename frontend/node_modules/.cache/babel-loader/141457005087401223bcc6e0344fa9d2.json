{"ast":null,"code":"var _jsxFileName = \"/Users/notAdmin/Documents/dev/Webdev/udemy/react-grocery/notamazon/frontend/src/screens/AislePage.js\",\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useReducer, useState } from \"react\";\nimport axios from \"axios\";\nimport logger from \"use-reducer-logger\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport Product from \"../components/Product\";\nimport Aisle from \"../components/Aisle\";\nimport { Helmet } from \"react-helmet-async\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { getError } from \"../util\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AislePage() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const params = useParams();\n  const {\n    slug\n  } = params;\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case \"FETCH_REQUEST\":\n        return { ...state,\n          loading: true\n        };\n\n      case \"FETCH_SUCCESS\":\n        return { ...state,\n          products: action.payload,\n          aisles: action.payload,\n          loading: false\n        };\n\n      case \"FETCH_FAIL\":\n        return { ...state,\n          loading: false,\n          error: action.payload\n        };\n\n      default:\n        return state;\n    }\n  };\n\n  function AislePage() {\n    _s();\n\n    const [{\n      loading0,\n      error0,\n      products\n    }, dispatch0] = useReducer(logger(reducer), {\n      products: [],\n      loading: true,\n      error: \"\"\n    });\n    const [{\n      loading1,\n      error1,\n      aisles\n    }, dispatch1] = useReducer(logger(reducer), {\n      aisles: [],\n      loading: true,\n      error: \"\"\n    }); //const [products, setProducts]=useState([]);\n\n    useEffect(() => {\n      const fetchProd = async () => {\n        dispatch0({\n          type: \"FETCH_REQUEST\"\n        });\n\n        try {\n          const result = await axios.get(\"/api/products\");\n          dispatch0({\n            type: \"FETCH_SUCCESS\",\n            payload: result.data\n          });\n        } catch (err) {\n          dispatch0({\n            type: \"FETCH_FAIL\",\n            payload: getError(err)\n          });\n        }\n      };\n\n      fetchProd();\n\n      const fetchAisle = async () => {\n        dispatch1({\n          type: \"FETCH_REQUEST\"\n        });\n\n        try {\n          const result = await axios.get(\"/api/aisles\");\n          dispatch1({\n            type: \"FETCH_SUCCESS\",\n            payload: result.data\n          });\n        } catch (err) {\n          dispatch1({\n            type: \"FETCH_FAIL\",\n            payload: err.message\n          });\n        }\n      };\n\n      fetchAisle();\n    }, []);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Helmet, {\n        children: /*#__PURE__*/_jsxDEV(\"title\", {\n          children: aisle.slug\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        fluid: \"xxl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fproducts\",\n          children: loading0 ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this) : error0 ? /*#__PURE__*/_jsxDEV(MessageBox, {\n            variant: \"danger\",\n            children: error0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(Row, {\n            children: products.map(product => /*#__PURE__*/_jsxDEV(Col, {\n              sm: 6,\n              md: 4,\n              lg: 3,\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Product, {\n                product: product\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this)\n            }, product.slug, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n\n  _s(AislePage, \"niE7yFZxzMZ3moUqilzv1NaXR60=\");\n}\n\n_s2(AislePage, \"+jVsTcECDRo3yq2d7EQxlN9Ixog=\", false, function () {\n  return [useParams];\n});\n\n_c = AislePage;\nexport default AislePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AislePage\");","map":{"version":3,"names":["useEffect","useReducer","useState","axios","logger","Col","Container","Row","Product","Aisle","Helmet","LoadingBox","MessageBox","getError","useParams","AislePage","params","slug","reducer","state","action","type","loading","products","payload","aisles","error","loading0","error0","dispatch0","loading1","error1","dispatch1","fetchProd","result","get","data","err","fetchAisle","message","aisle","map","product"],"sources":["/Users/notAdmin/Documents/dev/Webdev/udemy/react-grocery/notamazon/frontend/src/screens/AislePage.js"],"sourcesContent":["\nimport { useEffect, useReducer, useState } from \"react\";\nimport axios from \"axios\";\nimport logger from \"use-reducer-logger\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport Product from \"../components/Product\";\nimport Aisle from \"../components/Aisle\";\nimport { Helmet } from \"react-helmet-async\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { getError } from \"../util\";\nimport { useParams } from \"react-router-dom\";\n\nfunction AislePage() {\n  const params = useParams();\n  const { slug } = params;\n\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_REQUEST\":\n      return { ...state, loading: true };\n    case \"FETCH_SUCCESS\":\n      return {\n        ...state,\n        products: action.payload,\n        aisles: action.payload,\n        loading: false,\n      };\n    case \"FETCH_FAIL\":\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n\nfunction AislePage() {\n  const [{ loading0, error0, products }, dispatch0] = useReducer(\n    logger(reducer),\n    {\n      products: [],\n      loading: true,\n      error: \"\",\n    }\n  );\n\n  const [{ loading1, error1, aisles }, dispatch1] = useReducer(\n    logger(reducer),\n    {\n      aisles: [],\n      loading: true,\n      error: \"\",\n    }\n  );\n\n  //const [products, setProducts]=useState([]);\n  useEffect(() => {\n    const fetchProd = async () => {\n      dispatch0({ type: \"FETCH_REQUEST\" });\n      try {\n        const result = await axios.get(\"/api/products\");\n        dispatch0({ type: \"FETCH_SUCCESS\", payload: result.data });\n      } catch (err) {\n        dispatch0({ type: \"FETCH_FAIL\", payload: getError(err) });\n      }\n    };\n    fetchProd();\n\n    const fetchAisle = async () => {\n      dispatch1({ type: \"FETCH_REQUEST\" });\n      try {\n        const result = await axios.get(\"/api/aisles\");\n        dispatch1({ type: \"FETCH_SUCCESS\", payload: result.data });\n      } catch (err) {\n        dispatch1({ type: \"FETCH_FAIL\", payload: err.message });\n      }\n    };\n    fetchAisle();\n  }, []);\n\n  return (\n    <>\n      <Helmet>\n        <title>{aisle.slug}</title>\n      </Helmet>\n      <Container fluid=\"xxl\">\n        <h1>Products</h1>\n        <div className=\"fproducts\">\n          {loading0 ? (\n            <LoadingBox />\n          ) : error0 ? (\n            <MessageBox variant=\"danger\">{error0}</MessageBox>\n          ) : (\n            <Row>\n              {products.map((product) => (\n                <Col key={product.slug} sm={6} md={4} lg={3} className=\"mb-3\">\n                  <Product product={product}></Product>\n                </Col>\n              ))}\n            </Row>\n          )}\n        </div>\n      </Container>\n    </>\n  );\n}}\nexport default AislePage;\n"],"mappings":";;;AACA,SAASA,SAAT,EAAoBC,UAApB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,GAAzB,QAAoC,iBAApC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,QAAT,QAAyB,SAAzB;AACA,SAASC,SAAT,QAA0B,kBAA1B;;;;AAEA,SAASC,SAAT,GAAqB;EAAA;;EAAA;;EACnB,MAAMC,MAAM,GAAGF,SAAS,EAAxB;EACA,MAAM;IAAEG;EAAF,IAAWD,MAAjB;;EAGF,MAAME,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;IACjC,QAAQA,MAAM,CAACC,IAAf;MACE,KAAK,eAAL;QACE,OAAO,EAAE,GAAGF,KAAL;UAAYG,OAAO,EAAE;QAArB,CAAP;;MACF,KAAK,eAAL;QACE,OAAO,EACL,GAAGH,KADE;UAELI,QAAQ,EAAEH,MAAM,CAACI,OAFZ;UAGLC,MAAM,EAAEL,MAAM,CAACI,OAHV;UAILF,OAAO,EAAE;QAJJ,CAAP;;MAMF,KAAK,YAAL;QACE,OAAO,EAAE,GAAGH,KAAL;UAAYG,OAAO,EAAE,KAArB;UAA4BI,KAAK,EAAEN,MAAM,CAACI;QAA1C,CAAP;;MACF;QACE,OAAOL,KAAP;IAbJ;EAeD,CAhBD;;EAkBA,SAASJ,SAAT,GAAqB;IAAA;;IACnB,MAAM,CAAC;MAAEY,QAAF;MAAYC,MAAZ;MAAoBL;IAApB,CAAD,EAAiCM,SAAjC,IAA8C5B,UAAU,CAC5DG,MAAM,CAACc,OAAD,CADsD,EAE5D;MACEK,QAAQ,EAAE,EADZ;MAEED,OAAO,EAAE,IAFX;MAGEI,KAAK,EAAE;IAHT,CAF4D,CAA9D;IASA,MAAM,CAAC;MAAEI,QAAF;MAAYC,MAAZ;MAAoBN;IAApB,CAAD,EAA+BO,SAA/B,IAA4C/B,UAAU,CAC1DG,MAAM,CAACc,OAAD,CADoD,EAE1D;MACEO,MAAM,EAAE,EADV;MAEEH,OAAO,EAAE,IAFX;MAGEI,KAAK,EAAE;IAHT,CAF0D,CAA5D,CAVmB,CAmBnB;;IACA1B,SAAS,CAAC,MAAM;MACd,MAAMiC,SAAS,GAAG,YAAY;QAC5BJ,SAAS,CAAC;UAAER,IAAI,EAAE;QAAR,CAAD,CAAT;;QACA,IAAI;UACF,MAAMa,MAAM,GAAG,MAAM/B,KAAK,CAACgC,GAAN,CAAU,eAAV,CAArB;UACAN,SAAS,CAAC;YAAER,IAAI,EAAE,eAAR;YAAyBG,OAAO,EAAEU,MAAM,CAACE;UAAzC,CAAD,CAAT;QACD,CAHD,CAGE,OAAOC,GAAP,EAAY;UACZR,SAAS,CAAC;YAAER,IAAI,EAAE,YAAR;YAAsBG,OAAO,EAAEX,QAAQ,CAACwB,GAAD;UAAvC,CAAD,CAAT;QACD;MACF,CARD;;MASAJ,SAAS;;MAET,MAAMK,UAAU,GAAG,YAAY;QAC7BN,SAAS,CAAC;UAAEX,IAAI,EAAE;QAAR,CAAD,CAAT;;QACA,IAAI;UACF,MAAMa,MAAM,GAAG,MAAM/B,KAAK,CAACgC,GAAN,CAAU,aAAV,CAArB;UACAH,SAAS,CAAC;YAAEX,IAAI,EAAE,eAAR;YAAyBG,OAAO,EAAEU,MAAM,CAACE;UAAzC,CAAD,CAAT;QACD,CAHD,CAGE,OAAOC,GAAP,EAAY;UACZL,SAAS,CAAC;YAAEX,IAAI,EAAE,YAAR;YAAsBG,OAAO,EAAEa,GAAG,CAACE;UAAnC,CAAD,CAAT;QACD;MACF,CARD;;MASAD,UAAU;IACX,CAtBQ,EAsBN,EAtBM,CAAT;IAwBA,oBACE;MAAA,wBACE,QAAC,MAAD;QAAA,uBACE;UAAA,UAAQE,KAAK,CAACvB;QAAd;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,SAAD;QAAW,KAAK,EAAC,KAAjB;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAK,SAAS,EAAC,WAAf;UAAA,UACGU,QAAQ,gBACP,QAAC,UAAD;YAAA;YAAA;YAAA;UAAA,QADO,GAELC,MAAM,gBACR,QAAC,UAAD;YAAY,OAAO,EAAC,QAApB;YAAA,UAA8BA;UAA9B;YAAA;YAAA;YAAA;UAAA,QADQ,gBAGR,QAAC,GAAD;YAAA,UACGL,QAAQ,CAACkB,GAAT,CAAcC,OAAD,iBACZ,QAAC,GAAD;cAAwB,EAAE,EAAE,CAA5B;cAA+B,EAAE,EAAE,CAAnC;cAAsC,EAAE,EAAE,CAA1C;cAA6C,SAAS,EAAC,MAAvD;cAAA,uBACE,QAAC,OAAD;gBAAS,OAAO,EAAEA;cAAlB;gBAAA;gBAAA;gBAAA;cAAA;YADF,GAAUA,OAAO,CAACzB,IAAlB;cAAA;cAAA;cAAA;YAAA,QADD;UADH;YAAA;YAAA;YAAA;UAAA;QANJ;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA,gBADF;EAyBD;;EA5FoB,GAuBZF,SAvBY;AA4FnB;;IA5FOA,S;UACQD,S;;;KADRC,S;AA6FT,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}