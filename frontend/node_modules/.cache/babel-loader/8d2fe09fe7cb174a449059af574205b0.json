{"ast":null,"code":"var _jsxFileName = \"/Users/notAdmin/Documents/dev/Webdev/udemy/react-grocery/notamazon/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { Badge, Container, Nav, Navbar } from \"react-bootstrap\";\nimport { BrowserRouter, Routes, Route, Link } from \"react-router-dom\";\nimport AislePage from \"./screens/AislePage\";\nimport HomePage from \"./screens/HomePage\";\nimport ProductPage from \"./screens/ProductPage\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Store } from \"./Store\";\nimport { useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [{\n    loading,\n    error,\n    product\n  }, dispatch] = useReducer(reducer, {\n    product: [],\n    loading: true,\n    error: \"\"\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({\n        type: \"FETCH_REQUEST\"\n      });\n\n      try {\n        const result = await axios.get(`/api/products/slug/${slug}`);\n        dispatch({\n          type: \"FETCH_SUCCESS\",\n          payload: result.data\n        });\n      } catch (err) {\n        dispatch({\n          type: \"FETCH_FAIL\",\n          payload: err.message\n        });\n      }\n    };\n\n    fetchData();\n  }, [slug]);\n  const {\n    state,\n    dispatch: tba\n  } = useContext(Store);\n  const {\n    cart\n  } = state;\n\n  const addToCartFunction = async () => {\n    const existItem = cart.cartItems.find(x => x._id === product._id);\n    const quantity = existItem ? existItem.quantity + 1 : 1;\n    const {\n      data\n    } = await axios.get(`/api/products/${product._id}`);\n\n    if (data.countInStock < quantity) {\n      window.alert(\"Sorry. Product is out of stock\");\n      return;\n    }\n\n    tba({\n      type: \"CART_ADD_ITEM\",\n      payload: { ...product,\n        quantity\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column site-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: /*#__PURE__*/_jsxDEV(Navbar, {\n            bg: \"dark\",\n            variant: \"dark\",\n            className: \"topbar\",\n            children: /*#__PURE__*/_jsxDEV(Container, {\n              fluid: true,\n              children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n                style: {\n                  marginLeft: \"1rem\"\n                },\n                to: \"/\",\n                children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"logo\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 56,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa-brands fa-amazon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 57,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"rkRiver\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 58,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 55,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Nav, {\n                className: \"me-auto\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/cart\",\n                  className: \"nav-link\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-shopping-cart\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 21\n                  }, this), cart.cartItems.length > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n                    pill: true,\n                    bg: \"warning\",\n                    children: cart.cartItems.reduce((a, c) => a + c.quantity, 0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            children: /*#__PURE__*/_jsxDEV(Routes, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                path: \"/\",\n                element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 42\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/product/:slug\",\n                element: /*#__PURE__*/_jsxDEV(ProductPage, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 55\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/aisles/:slug\",\n                element: /*#__PURE__*/_jsxDEV(AislePage, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 54\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: \"\\xA9 None but don't tell Amazon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"KzpyR85wM2ymzZPEJ3hIE7lWKw0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Badge","Container","Nav","Navbar","BrowserRouter","Routes","Route","Link","AislePage","HomePage","ProductPage","LinkContainer","Store","useContext","useEffect","axios","App","loading","error","product","dispatch","useReducer","reducer","fetchData","type","result","get","slug","payload","data","err","message","state","tba","cart","addToCartFunction","existItem","cartItems","find","x","_id","quantity","countInStock","window","alert","marginLeft","length","reduce","a","c"],"sources":["/Users/notAdmin/Documents/dev/Webdev/udemy/react-grocery/notamazon/frontend/src/App.js"],"sourcesContent":["import { Badge, Container, Nav, Navbar } from \"react-bootstrap\";\nimport { BrowserRouter, Routes, Route, Link } from \"react-router-dom\";\nimport AislePage from \"./screens/AislePage\";\nimport HomePage from \"./screens/HomePage\";\nimport ProductPage from \"./screens/ProductPage\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Store } from \"./Store\";\nimport { useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nfunction App() {\n  const [{ loading, error, product }, dispatch] = useReducer(reducer, {\n    product: [],\n    loading: true,\n    error: \"\",\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({ type: \"FETCH_REQUEST\" });\n      try {\n        const result = await axios.get(`/api/products/slug/${slug}`);\n        dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\n      } catch (err) {\n        dispatch({ type: \"FETCH_FAIL\", payload: err.message });\n      }\n    };\n    fetchData();\n  }, [slug]);\n\n  const { state, dispatch: tba } = useContext(Store);\n  const { cart } = state;\n\n  const addToCartFunction = async () => {\n    const existItem = cart.cartItems.find((x) => x._id === product._id);\n    const quantity = existItem ? existItem.quantity + 1 : 1;\n    const { data } = await axios.get(`/api/products/${product._id}`);\n    if (data.countInStock < quantity) {\n      window.alert(\"Sorry. Product is out of stock\");\n      return;\n    }\n    tba({\n      type: \"CART_ADD_ITEM\",\n      payload: { ...product, quantity },\n    });\n  };\n\n  return (\n    <>\n      <BrowserRouter>\n        <div className=\"d-flex flex-column site-container\">\n          <header>\n            <Navbar bg=\"dark\" variant=\"dark\" className=\"topbar\">\n              <Container fluid>\n                <LinkContainer style={{ marginLeft: \"1rem\" }} to=\"/\">\n                  <Navbar.Brand>\n                    <span className=\"logo\">\n                      <p>D</p>\n                      <i className=\"fa-brands fa-amazon\" />\n                      <p>rkRiver</p>\n                    </span>\n                  </Navbar.Brand>\n                </LinkContainer>\n                <Nav className=\"me-auto\">\n                  <Link to=\"/cart\" className=\"nav-link\">\n                    <i className=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i>\n                    {cart.cartItems.length > 0 && (\n                      <Badge pill bg=\"warning\">\n                        {cart.cartItems.reduce((a, c) => a + c.quantity, 0)}\n                      </Badge>\n                    )}\n                  </Link>\n                </Nav>\n              </Container>\n            </Navbar>\n          </header>\n          <main>\n            <Container>\n              <Routes>\n                <Route path=\"/\" element={<HomePage />} />\n                <Route path=\"/product/:slug\" element={<ProductPage />} />\n                <Route path=\"/aisles/:slug\" element={<AislePage />} />\n              </Routes>\n            </Container>\n          </main>\n          <footer>\n            <div className=\"text-center\">&#169; None but don't tell Amazon</div>\n          </footer>\n        </div>\n      </BrowserRouter>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}