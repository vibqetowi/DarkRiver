{"ast":null,"code":"import _asyncToGenerator from\"/Users/notAdmin/Documents/rand/DarkRiver/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/notAdmin/Documents/rand/DarkRiver/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/notAdmin/Documents/rand/DarkRiver/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/notAdmin/Documents/rand/DarkRiver/frontend/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import React,{useContext,useEffect,useReducer}from\"react\";import{PayPalButtons,usePayPalScriptReducer}from\"@paypal/react-paypal-js\";import{Helmet}from\"react-helmet-async\";import{useNavigate,useParams}from\"react-router-dom\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import Button from\"react-bootstrap/Button\";import ListGroup from\"react-bootstrap/ListGroup\";import Card from\"react-bootstrap/Card\";import{Link}from\"react-router-dom\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{Store}from\"../Store\";import{getError}from\"../utils\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function reducer(state,action){switch(action.type){case\"FETCH_REQUEST\":return _objectSpread(_objectSpread({},state),{},{loading:true,error:\"\"});case\"FETCH_SUCCESS\":return _objectSpread(_objectSpread({},state),{},{loading:false,order:action.payload,error:\"\"});case\"FETCH_FAIL\":return _objectSpread(_objectSpread({},state),{},{loading:false,error:action.payload});case\"PAY_REQUEST\":return _objectSpread(_objectSpread({},state),{},{loadingPay:true});case\"PAY_SUCCESS\":return _objectSpread(_objectSpread({},state),{},{loadingPay:false,successPay:true});case\"PAY_FAIL\":return _objectSpread(_objectSpread({},state),{},{loadingPay:false});case\"PAY_RESET\":return _objectSpread(_objectSpread({},state),{},{loadingPay:false,successPay:false});case\"DELIVER_REQUEST\":return _objectSpread(_objectSpread({},state),{},{loadingDeliver:true});case\"DELIVER_SUCCESS\":return _objectSpread(_objectSpread({},state),{},{loadingDeliver:false,successDeliver:true});case\"DELIVER_FAIL\":return _objectSpread(_objectSpread({},state),{},{loadingDeliver:false});case\"DELIVER_RESET\":return _objectSpread(_objectSpread({},state),{},{loadingDeliver:false,successDeliver:false});default:return state;}}export default function OrderPage(){var _useContext=useContext(Store),state=_useContext.state;var userInfo=state.userInfo;var params=useParams();var orderId=params.id;var navigate=useNavigate();var _useReducer=useReducer(reducer,{loading:true,order:{},error:\"\",successPay:false,loadingPay:false}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],loading=_useReducer2$.loading,error=_useReducer2$.error,order=_useReducer2$.order,successPay=_useReducer2$.successPay,loadingPay=_useReducer2$.loadingPay,loadingDeliver=_useReducer2$.loadingDeliver,successDeliver=_useReducer2$.successDeliver,dispatch=_useReducer2[1];var _usePayPalScriptReduc=usePayPalScriptReducer(),_usePayPalScriptReduc2=_slicedToArray(_usePayPalScriptReduc,2),isPending=_usePayPalScriptReduc2[0].isPending,paypalDispatch=_usePayPalScriptReduc2[1];function createOrder(data,actions){return actions.order.create({purchase_units:[{amount:{value:order.totalPrice}}]}).then(function(orderID){return orderID;});}function onApprove(data,actions){return actions.order.capture().then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(details){var _yield$axios$put,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:\"PAY_REQUEST\"});_context.next=4;return axios.put(\"/api/orders/\".concat(order._id,\"/pay\"),details,{headers:{authorization:\"Bearer \".concat(userInfo.token)}});case 4:_yield$axios$put=_context.sent;_data=_yield$axios$put.data;dispatch({type:\"PAY_SUCCESS\",payload:_data});toast.success(\"Order is paid\");_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:\"PAY_FAIL\",payload:getError(_context.t0)});toast.error(getError(_context.t0));case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}());}function onError(err){toast.error(getError(err));}useEffect(function(){var fetchOrder=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:\"FETCH_REQUEST\"});_context2.next=4;return axios.get(\"/api/orders/\".concat(orderId),{headers:{authorization:\"Bearer \".concat(userInfo.token)}});case 4:_yield$axios$get=_context2.sent;data=_yield$axios$get.data;dispatch({type:\"FETCH_SUCCESS\",payload:data});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:\"FETCH_FAIL\",payload:getError(_context2.t0)});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function fetchOrder(){return _ref2.apply(this,arguments);};}();if(!userInfo){return navigate(\"/login\");}if(!order._id||successPay||successDeliver||order._id&&order._id!==orderId){fetchOrder();if(successPay){dispatch({type:\"PAY_RESET\"});}if(successDeliver){dispatch({type:\"DELIVER_RESET\"});}}else{var loadPaypalScript=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _yield$axios$get2,clientId;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"/api/keys/paypal\",{headers:{authorization:\"Bearer \".concat(userInfo.token)}});case 2:_yield$axios$get2=_context3.sent;clientId=_yield$axios$get2.data;paypalDispatch({type:\"resetOptions\",value:{\"client-id\":clientId,currency:\"USD\"}});paypalDispatch({type:\"setLoadingStatus\",value:\"pending\"});case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function loadPaypalScript(){return _ref3.apply(this,arguments);};}();loadPaypalScript();}},[order,userInfo,orderId,navigate,paypalDispatch,successPay,successDeliver]);function deliverOrderHandler(){return _deliverOrderHandler.apply(this,arguments);}function _deliverOrderHandler(){_deliverOrderHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _yield$axios$put2,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:\"DELIVER_REQUEST\"});_context4.next=4;return axios.put(\"/api/orders/\".concat(order._id,\"/deliver\"),{},{headers:{authorization:\"Bearer \".concat(userInfo.token)}});case 4:_yield$axios$put2=_context4.sent;data=_yield$axios$put2.data;dispatch({type:\"DELIVER_SUCCESS\",payload:data});toast.success(\"Order is delivered\");_context4.next=14;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);toast.error(getError(_context4.t0));dispatch({type:\"DELIVER_FAIL\"});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return _deliverOrderHandler.apply(this,arguments);}return loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsxs(\"title\",{children:[\"Order #\",orderId]})}),/*#__PURE__*/_jsxs(Row,{className:\"rounded-border-black-bg\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"my-3\",children:[\"Order #\",orderId]}),/*#__PURE__*/_jsxs(Col,{md:7,children:[/*#__PURE__*/_jsx(Card,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Shipping\"}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",order.shippingAddress.fullName,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Address: \"}),\" \",order.shippingAddress.address,\",\",order.shippingAddress.city,\", \",order.shippingAddress.postalCode,\",\",order.shippingAddress.country,\"\\xA0\",order.shippingAddress.location&&order.shippingAddress.location.lat&&/*#__PURE__*/_jsx(\"a\",{target:\"_new\",href:\"https://maps.google.com?q=\".concat(order.shippingAddress.location.lat,\",\").concat(order.shippingAddress.location.lng),children:\"Show On Map\"})]}),order.isDelivered?/*#__PURE__*/_jsxs(MessageBox,{variant:\"success\",children:[\"Delivered at \",order.deliveredAt]}):/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:\"Not Delivered\"})]})}),/*#__PURE__*/_jsx(Card,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Payment\"}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Method:\"}),\" \",order.paymentMethod]}),order.isPaid?/*#__PURE__*/_jsxs(MessageBox,{variant:\"success\",children:[\"Paid \",order.paidAt.substring(0,10)]}):/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:\"Not Paid\"})]})}),/*#__PURE__*/_jsx(Card,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Items\"}),/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:order.orderItems.map(function(item){return/*#__PURE__*/_jsx(ListGroup.Item,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsxs(Link,{to:\"/dr/\".concat(item.slug),children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"thumbnail\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"thumbnail-txt\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/dr/\".concat(item.slug),className:\"normal-ass-white-txt\",children:item.name})]})]}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",item.price,\"\\xA0 X\\xA0\",item.quantity]})})]})},item._id);})})]})})]}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Order Summary\"}),/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Items\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.itemsPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Shipping\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.shippingPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Tax\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.taxPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"black-bg\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\" Order Total\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",order.totalPrice.toFixed(2)]})})]})}),!order.isPaid&&/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"black-bg\",children:[isPending?/*#__PURE__*/_jsx(LoadingBox,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"paypal-container\",children:/*#__PURE__*/_jsx(PayPalButtons,{createOrder:createOrder,onApprove:onApprove,onError:onError})}),/*#__PURE__*/_jsx(\"p\",{children:\"paypal: johndoe@dmail.com, psw jd123456. I'm using sandbox api and it does not always connect\"})]}),loadingPay&&/*#__PURE__*/_jsx(LoadingBox,{})]}),userInfo.isAdmin&&order.isPaid&&!order.isDelivered&&/*#__PURE__*/_jsxs(ListGroup.Item,{children:[loadingDeliver&&/*#__PURE__*/_jsx(LoadingBox,{}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:deliverOrderHandler,children:\"Deliver Order\"})})]})]})]})})})]})]});}","map":{"version":3,"names":["axios","React","useContext","useEffect","useReducer","PayPalButtons","usePayPalScriptReducer","Helmet","useNavigate","useParams","Row","Col","Button","ListGroup","Card","Link","LoadingBox","MessageBox","Store","getError","toast","reducer","state","action","type","loading","error","order","payload","loadingPay","successPay","loadingDeliver","successDeliver","OrderPage","userInfo","params","orderId","id","navigate","dispatch","isPending","paypalDispatch","createOrder","data","actions","create","purchase_units","amount","value","totalPrice","then","orderID","onApprove","capture","details","put","_id","headers","authorization","token","success","onError","err","fetchOrder","get","loadPaypalScript","clientId","currency","deliverOrderHandler","shippingAddress","fullName","address","city","postalCode","country","location","lat","lng","isDelivered","deliveredAt","paymentMethod","isPaid","paidAt","substring","orderItems","map","item","slug","image","name","price","quantity","itemsPrice","toFixed","shippingPrice","taxPrice","isAdmin"],"sources":["/Users/notAdmin/Documents/rand/DarkRiver/frontend/src/pages/OrderDetailsPage.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useContext, useEffect, useReducer } from \"react\";\nimport { PayPalButtons, usePayPalScriptReducer } from \"@paypal/react-paypal-js\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport Card from \"react-bootstrap/Card\";\nimport { Link } from \"react-router-dom\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { Store } from \"../Store\";\nimport { getError } from \"../utils\";\nimport { toast } from \"react-toastify\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"FETCH_REQUEST\":\n      return { ...state, loading: true, error: \"\" };\n    case \"FETCH_SUCCESS\":\n      return { ...state, loading: false, order: action.payload, error: \"\" };\n    case \"FETCH_FAIL\":\n      return { ...state, loading: false, error: action.payload };\n    case \"PAY_REQUEST\":\n      return { ...state, loadingPay: true };\n    case \"PAY_SUCCESS\":\n      return { ...state, loadingPay: false, successPay: true };\n    case \"PAY_FAIL\":\n      return { ...state, loadingPay: false };\n    case \"PAY_RESET\":\n      return { ...state, loadingPay: false, successPay: false };\n\n    case \"DELIVER_REQUEST\":\n      return { ...state, loadingDeliver: true };\n    case \"DELIVER_SUCCESS\":\n      return { ...state, loadingDeliver: false, successDeliver: true };\n    case \"DELIVER_FAIL\":\n      return { ...state, loadingDeliver: false };\n    case \"DELIVER_RESET\":\n      return {\n        ...state,\n        loadingDeliver: false,\n        successDeliver: false,\n      };\n    default:\n      return state;\n  }\n}\nexport default function OrderPage() {\n  const { state } = useContext(Store);\n  const { userInfo } = state;\n\n  const params = useParams();\n  const { id: orderId } = params;\n  const navigate = useNavigate();\n\n  const [\n    {\n      loading,\n      error,\n      order,\n      successPay,\n      loadingPay,\n      loadingDeliver,\n      successDeliver,\n    },\n    dispatch,\n  ] = useReducer(reducer, {\n    loading: true,\n    order: {},\n    error: \"\",\n    successPay: false,\n    loadingPay: false,\n  });\n\n  const [{ isPending }, paypalDispatch] = usePayPalScriptReducer();\n\n  function createOrder(data, actions) {\n    return actions.order\n      .create({\n        purchase_units: [\n          {\n            amount: { value: order.totalPrice },\n          },\n        ],\n      })\n      .then((orderID) => {\n        return orderID;\n      });\n  }\n\n  function onApprove(data, actions) {\n    return actions.order.capture().then(async function (details) {\n      try {\n        dispatch({ type: \"PAY_REQUEST\" });\n        const { data } = await axios.put(\n          `/api/orders/${order._id}/pay`,\n          details,\n          {\n            headers: { authorization: `Bearer ${userInfo.token}` },\n          }\n        );\n        dispatch({ type: \"PAY_SUCCESS\", payload: data });\n        toast.success(\"Order is paid\");\n      } catch (err) {\n        dispatch({ type: \"PAY_FAIL\", payload: getError(err) });\n        toast.error(getError(err));\n      }\n    });\n  }\n  function onError(err) {\n    toast.error(getError(err));\n  }\n\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        dispatch({ type: \"FETCH_REQUEST\" });\n        const { data } = await axios.get(`/api/orders/${orderId}`, {\n          headers: { authorization: `Bearer ${userInfo.token}` },\n        });\n        dispatch({ type: \"FETCH_SUCCESS\", payload: data });\n      } catch (err) {\n        dispatch({ type: \"FETCH_FAIL\", payload: getError(err) });\n      }\n    };\n\n    if (!userInfo) {\n      return navigate(\"/login\");\n    }\n    if (\n      !order._id ||\n      successPay ||\n      successDeliver ||\n      (order._id && order._id !== orderId)\n    ) {\n      fetchOrder();\n      if (successPay) {\n        dispatch({ type: \"PAY_RESET\" });\n      }\n      if (successDeliver) {\n        dispatch({ type: \"DELIVER_RESET\" });\n      }\n    } else {\n      const loadPaypalScript = async () => {\n        const { data: clientId } = await axios.get(\"/api/keys/paypal\", {\n          headers: { authorization: `Bearer ${userInfo.token}` },\n        });\n        paypalDispatch({\n          type: \"resetOptions\",\n          value: {\n            \"client-id\": clientId,\n            currency: \"USD\",\n          },\n        });\n        paypalDispatch({ type: \"setLoadingStatus\", value: \"pending\" });\n      };\n      loadPaypalScript();\n    }\n  }, [\n    order,\n    userInfo,\n    orderId,\n    navigate,\n    paypalDispatch,\n    successPay,\n    successDeliver,\n  ]);\n\n  async function deliverOrderHandler() {\n    try {\n      dispatch({ type: \"DELIVER_REQUEST\" });\n      const { data } = await axios.put(\n        `/api/orders/${order._id}/deliver`,\n        {},\n        {\n          headers: { authorization: `Bearer ${userInfo.token}` },\n        }\n      );\n      dispatch({ type: \"DELIVER_SUCCESS\", payload: data });\n      toast.success(\"Order is delivered\");\n    } catch (err) {\n      toast.error(getError(err));\n      dispatch({ type: \"DELIVER_FAIL\" });\n    }\n  }\n\n  return loading ? (\n    <LoadingBox></LoadingBox>\n  ) : error ? (\n    <MessageBox variant=\"danger\">{error}</MessageBox>\n  ) : (\n    <div>\n      <Helmet>\n        <title>Order #{orderId}</title>\n      </Helmet>\n\n      <Row className=\"rounded-border-black-bg\">\n        <h2 className=\"my-3\">Order #{orderId}</h2>\n        <Col md={7}>\n          <Card className=\"black-bg\">\n            <Card.Body>\n              <Card.Title>Shipping</Card.Title>\n              <Card.Text>\n                <strong>Name:</strong> {order.shippingAddress.fullName} <br />\n                <strong>Address: </strong> {order.shippingAddress.address},\n                {order.shippingAddress.city}, {order.shippingAddress.postalCode}\n                ,{order.shippingAddress.country}\n                &nbsp;\n                {order.shippingAddress.location &&\n                  order.shippingAddress.location.lat && (\n                    <a\n                      target=\"_new\"\n                      href={`https://maps.google.com?q=${order.shippingAddress.location.lat},${order.shippingAddress.location.lng}`}\n                    >\n                      Show On Map\n                    </a>\n                  )}\n              </Card.Text>\n              {order.isDelivered ? (\n                <MessageBox variant=\"success\">\n                  Delivered at {order.deliveredAt}\n                </MessageBox>\n              ) : (\n                <MessageBox variant=\"danger\">Not Delivered</MessageBox>\n              )}\n            </Card.Body>\n          </Card>\n          <Card className=\"black-bg\">\n            <Card.Body>\n              <Card.Title>Payment</Card.Title>\n              <Card.Text>\n                <strong>Method:</strong> {order.paymentMethod}\n              </Card.Text>\n              {order.isPaid ? (\n                <MessageBox variant=\"success\">\n                  Paid {order.paidAt.substring(0, 10)}\n                </MessageBox>\n              ) : (\n                <MessageBox variant=\"danger\">Not Paid</MessageBox>\n              )}\n            </Card.Body>\n          </Card>\n\n          <Card className=\"black-bg\">\n            <Card.Body>\n              <Card.Title>Items</Card.Title>\n              <ListGroup variant=\"flush\">\n                {order.orderItems.map((item) => (\n                  <ListGroup.Item key={item._id} className=\"black-bg\">\n                    <Row className=\"align-items-center\">\n                      <Col md={6}>\n                        <Link to={`/dr/${item.slug}`}>\n                          {\" \"}\n                          <img\n                            src={item.image}\n                            alt={item.name}\n                            className=\"thumbnail\"\n                          ></img>{\" \"}\n                        </Link>\n                        <div className=\"thumbnail-txt\">\n                          {\" \"}\n                          <Link\n                            to={`/dr/${item.slug}`}\n                            className=\"normal-ass-white-txt\"\n                          >\n                            {item.name}\n                          </Link>\n                        </div>\n                      </Col>\n                      <Col md={3}>\n                        <span>\n                          ${item.price}&nbsp; X&nbsp;{item.quantity}\n                        </span>\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n                ))}\n              </ListGroup>\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col md={4}>\n          <Card className=\"black-bg\">\n            <Card.Body>\n              <Card.Title>Order Summary</Card.Title>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item className=\"black-bg\">\n                  <Row>\n                    <Col>Items</Col>\n                    <Col>${order.itemsPrice.toFixed(2)}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item className=\"black-bg\">\n                  <Row>\n                    <Col>Shipping</Col>\n                    <Col>${order.shippingPrice.toFixed(2)}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item className=\"black-bg\">\n                  <Row>\n                    <Col>Tax</Col>\n                    <Col>${order.taxPrice.toFixed(2)}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item className=\"black-bg\">\n                  <Row>\n                    <Col>\n                      <strong> Order Total</strong>\n                    </Col>\n                    <Col>\n                      <strong>${order.totalPrice.toFixed(2)}</strong>\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n                {!order.isPaid && (\n                  <ListGroup.Item className=\"black-bg\">\n                    {isPending ? (\n                      <LoadingBox />\n                    ) : (\n                      <>\n                        <div id=\"paypal-container\">\n                          <PayPalButtons\n                            createOrder={createOrder}\n                            onApprove={onApprove}\n                            onError={onError}\n                          ></PayPalButtons>\n                        </div>\n                        <p>\n                          paypal: johndoe@dmail.com, psw jd123456. I'm using\n                          sandbox api and it does not always connect\n                        </p>\n                      </>\n                    )}\n                    {loadingPay && <LoadingBox></LoadingBox>}\n                  </ListGroup.Item>\n                )}\n                {userInfo.isAdmin && order.isPaid && !order.isDelivered && (\n                  <ListGroup.Item>\n                    {loadingDeliver && <LoadingBox></LoadingBox>}\n                    <div className=\"d-grid\">\n                      <Button type=\"button\" onClick={deliverOrderHandler}>\n                        Deliver Order\n                      </Button>\n                    </div>\n                  </ListGroup.Item>\n                )}\n              </ListGroup>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}